<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Freewar Chat Logs</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f4f4f4;
        }
        h1, h2 {
            color: #333;
        }
        textarea {
            width: 100%;
            height: 400px;
            white-space: pre;
            font-family: monospace;
            margin-bottom: 40px;
        }
    </style>
</head>
<body>
    <h1>Freewar Chat Logs</h1>
    <p>W√§hle eine Welt oder den globalen Chat aus, um die Logs anzuzeigen:</p>

    <select id="logSelector" onchange="loadLog()">
        <option value="global_chatlog.txt">üåê Global</option>
        <option value="welt1_chatlog.txt">Welt 1</option>
        <option value="welt2_chatlog.txt">Welt 2</option>
        <option value="welt3_chatlog.txt">Welt 3</option>
        <option value="welt4_chatlog.txt">Welt 4</option>
        <option value="welt5_chatlog.txt">Welt 5</option>
        <option value="welt6_chatlog.txt">Welt 6</option>
        <option value="welt7_chatlog.txt">Welt 7</option>
        <option value="welt8_chatlog.txt">Welt 8</option>
        <option value="welt9_chatlog.txt">Welt 9</option>
        <option value="welt10_chatlog.txt">Welt 10</option>
        <option value="welt11_chatlog.txt">Welt 11</option>
        <option value="welt12_chatlog.txt">Welt 12</option>
        <option value="welt13_chatlog.txt">Welt 13</option>
        <option value="welt14_chatlog.txt">Welt 14</option>
    </select>

    <h2 id="logTitle">Anzeigen: Global</h2>
    <textarea id="logOutput" readonly>Log wird geladen...</textarea>

    <script>
        async function loadLog() {
            const file = document.getElementById("logSelector").value;
            const title = document.getElementById("logSelector").selectedOptions[0].text;
            document.getElementById("logTitle").innerText = `Anzeigen: ${title}`;
            try {
                const response = await fetch("/" + file);
                if (!response.ok) throw new Error("Fehler beim Laden der Datei.");
                const text = await response.text();
                document.getElementById("logOutput").value = text;
            } catch (err) {
                document.getElementById("logOutput").value = "Fehler beim Laden: " + err;
            }
        }

        // Beim Start laden
        loadLog();
    </script>
</body>
</html>
